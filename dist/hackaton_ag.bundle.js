/*! For license information please see hackaton_a.bundle.js.LICENSE.txt */
(()=>{var e={990:()=>{var e=function(){function e(e){return document.querySelectorAll(e)}function t(e){return e.className.match(d)}function n(e,t,n){var a,c=i(e,t,n),s=o(e,t,n,c),u=void 0!==c.title?c.title:function(e){var t;return"twitter"==e&&(t=r("twitter:title")),t||document.title}(t),d=void 0!==c.text?c.text:function(e){var t;return"twitter"==e&&(t=r("twitter:description")),t||r("description")}(t),l=c.image?c.image:r("og:image"),p=void 0!==c.via?c.via:r("twitter:site"),h={shareUrl:s,title:u,text:d,image:l,via:p,options:e,shareUrlEncoded:function(){return encodeURIComponent(this.shareUrl)}};switch(t){case"facebook":a="https://www.facebook.com/share.php?u="+h.shareUrlEncoded();break;case"twitter":a="https://twitter.com/intent/tweet?url="+h.shareUrlEncoded()+"&text="+encodeURIComponent(u+(d&&u?" - ":"")+d),p&&(a+="&via="+p.replace("@",""));break;case"google-plus":a="https://plus.google.com/share?url="+h.shareUrlEncoded();break;case"pinterest":a="https://pinterest.com/pin/create/button/?url="+h.shareUrlEncoded()+"&description="+encodeURIComponent(d),l&&(a+="&media="+encodeURIComponent(l));break;case"tumblr":a="https://www.tumblr.com/share/link?url="+h.shareUrlEncoded()+"&name="+encodeURIComponent(u)+"&description="+encodeURIComponent(d);break;case"linkedin":a="https://www.linkedin.com/shareArticle?mini=true&url="+h.shareUrlEncoded()+"&title="+encodeURIComponent(u)+"&summary="+encodeURIComponent(d);break;case"vk":a="https://vkontakte.ru/share.php?url="+h.shareUrlEncoded();break;case"buffer":a="https://buffer.com/add?source=button&url="+h.shareUrlEncoded()+"&text="+encodeURIComponent(d);break;case"email":a="mailto:?subject="+encodeURIComponent(u)+"&body="+encodeURIComponent(u+"\n"+s+"\n\n"+d+"\n")}return h.networkUrl=a,e.onBeforeOpen&&e.onBeforeOpen(n,t,h),h.networkUrl}function o(e,t,n,o){return(o=o||i(e,t,n)).url||window.location.href}function r(t,n){var o,r=e("meta["+(n||(0===t.indexOf("og:")?"property":"name"))+'="'+t+'"]');return r.length&&(o=r[0].getAttribute("content")||""),o||""}function i(e,t,n){var o,r,i,a,c=["url","title","text","image"],s={},u=n.parentNode;for(a in"twitter"==t&&c.push("via"),c)i="data-"+(r=c[a]),void 0!==(o=n.getAttribute(i)||u.getAttribute(i)||(e[t]&&void 0!==e[t][r]?e[t][r]:e[r]))&&(s[r]=o);return s}function a(e,t){var n=document.createElement("div");n.innerHTML=t,n.className="ssk-num",e.appendChild(n)}function c(e,t,n,o){var r,i,a=encodeURIComponent(t);switch(e){case"facebook":r="https://graph.facebook.com/?id="+a,i=function(e){return o(e.share?e.share.share_count:0)};break;case"twitter":n&&n.twitter&&n.twitter.countCallback&&n.twitter.countCallback(t,o);break;case"google-plus":return i=function(e){if((e=JSON.parse(e)).length)return o(e[0].result.metadata.globalCounts.count)},void function(e,t,n){var o=new XMLHttpRequest;o.onreadystatechange=function(){4===this.readyState&&this.status>=200&&this.status<400&&t(this.responseText)},o.open("POST",e,!0),o.setRequestHeader("Content-Type","application/json"),o.send(n)}(r="https://clients6.google.com/rpc?key=AIzaSyCKSbrvQasunBoV16zDH9R33D88CeLr9gQ",i,'[{"method":"pos.plusones.get","id":"p","params":{"id":"'+t+'","userId":"@viewer","groupId":"@self","nolog":true},"jsonrpc":"2.0","key":"p","apiVersion":"v1"}]');case"linkedin":r="https://www.linkedin.com/countserv/count/share?url="+a,i=function(e){return o(e.count)};break;case"pinterest":r="https://api.pinterest.com/v1/urls/count.json?url="+a,i=function(e){return o(e.count)};break;case"vk":r="https://vk.com/share.php?act=count&url="+a,i=function(e){return o(e)};break;case"buffer":r="https://api.bufferapp.com/1/links/shares.json?url="+a,i=function(e){return o(e.shares)}}r&&i&&function(e,t,n){var o="cb_"+e+"_"+Math.round(1e5*Math.random()),r=document.createElement("script");window[o]=function(e){try{delete window[o]}catch(e){}document.body.removeChild(r),n(e)},"vk"==e?window.VK={Share:{count:function(e,t){window[o](t)}}}:"google-plus"==e&&(window.services={gplus:{cb:window[o]}}),r.src=t+(t.indexOf("?")>=0?"&":"?")+"callback="+o,document.body.appendChild(r)}(e,r,i)}var s,u,d=/(twitter|facebook|google-plus|pinterest|tumblr|vk|linkedin|buffer|email)/;return(u=function(t){var n=t||{},o=n.selector||".ssk";this.nodes=e(o),this.options=n}).prototype={share:function(){function e(e){var o,r=function(e){var t=e||window.event;return t.preventDefault?t.preventDefault():(t.returnValue=!1,t.cancelBubble=!0),t.currentTarget||t.srcElement}(e),a=t(r),c=a[0];if(a&&(o=n(i,c,r))){if(window.twttr&&-1!==r.getAttribute("href").indexOf("twitter.com/intent/"))return void r.setAttribute("href",o);if("email"!==c){var s,u;"buffer"===c?(s=800,u=680):(s=575,u=400);var d=function(e,t,n){var o,r,i;return t&&n?(r=document.documentElement.clientWidth/2-t/2,i="status=1,resizable=yes,width="+t+",height="+n+",top="+(document.documentElement.clientHeight-n)/2+",left="+r,o=window.open(e,"",i)):o=window.open(e),o.focus(),o}(o,s,u);if(i.onOpen&&i.onOpen(r,c,o,d),i.onClose)var l=window.setInterval((function(){!1!==d.closed&&(window.clearInterval(l),i.onClose(r,c,o,d))}),250)}else document.location=o}}var r=this.nodes,i=this.options,s={},u=function(){r.length&&(function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(r,(function(n){var r,a=t(n);if(a){if(n.getAttribute("data-ssk-ready")){if(!i.reinitialize||!n._skkListener)return;!function(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}(n,"click",n._skkListener)}n.setAttribute("data-ssk-ready",!0),function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,(function(){n.call(e)}))}(n,"click",e),n._skkListener=e,-1!==n.parentNode.className.indexOf("ssk-count")&&((r=(a=a[0])+"*|*"+o(i,a,n))in s||(s[r]=[]),s[r].push(n))}})),function(){var e,t;for(e in s)t=e.split("*|*"),function(e){c(t[0],t[1],i,(function(t){for(var n in e)a(e[n],t)}))}(s[e])}())};return!0===i.forceInit?u():function(e){"loading"!=document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",(function(){"loading"!=document.readyState&&e()}))}(u),this.nodes}},s=function(e){return new u(e)},{init:function(e){return s(e).share()}}}();window.SocialShareKit=e}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(990),t=n.n(e);window.onload=async function(){const e=document.getElementById("email"),n=document.getElementById("consent_check"),o=document.getElementById("submit"),r=document.getElementById("errorMsg");n.checked||(o.disabled=!0);const i=[0,35,367,423,1186,2565,4845],{total_co2:a,green_step:c}=await(async()=>{const e=await fetch("https://api-co2.cubbit.io/saved"),t=await e.json(),{total_co2:n,green_step:o}=t;return console.log(t),{total_co2:n,green_step:o}})();if(a&&document.querySelectorAll(".total_co2").forEach(((e,t)=>{e.innerHTML=a})),c){document.querySelectorAll(".dot").forEach(((e,t)=>{t<c&&e.classList.add("completed"),t===c&&e.classList.add("load")}));const e=()=>0===c?0:(c+(a-i[c])/(i[c+1]-i[c]))/(i.length-1)*100;document.getElementById("co2_progress_bar").style.width=`calc(${e()}% + 10px)`}Webflow.push((()=>{n.addEventListener("change",(()=>{n.checked?o.disabled=!1:o.disabled=!0})),o.addEventListener("click",(async t=>{if(!n.value)return t.preventDefault(),void(r.innerHTML="Please accept the consent");if(!e.value)return t.preventDefault(),void(r.innerHTML="Please enter your email");const o={email:e.value,referral_code:""},i=await fetch("https://api-co2.cubbit.io/save",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Accept:"application/json"}}),a=await i.json();if(console.log(a),!a)throw r.innerHTML="Something went wrong",new Error(i.statusText);if(a?.error)throw r.innerHTML=a.message,new Error(a.error)}))})),t().init({selector:".social-share-kit",url:"https://www.cubbit.io/",text:"I just saved the world from CO2 by using Cubbit",hashtags:"CO2, Cubbit, SaveTheWorld",facebook:{url:"https://www.cubbit.io/",text:"I just saved the world from CO2 by using Cubbit",hashtags:"CO2, Cubbit, SaveTheWorld"}})}})()})();