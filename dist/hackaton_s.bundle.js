window.onload=async function(){const e=document.getElementById("form"),t=[0,35,367,423,1186,2565,4845],{total_co2:o,green_step:a}=await(async()=>{const e=await fetch("https://api-co2.cubbit.io/saved"),t=await e.json(),{total_co2:o,green_step:a}=t;return console.log(t),{total_co2:o,green_step:a}})();if(o&&document.querySelectorAll(".total_co2").forEach(((e,t)=>{e.innerHTML=o})),a){document.querySelectorAll(".dot").forEach(((e,t)=>{t<a&&e.classList.add("completed"),t===a&&e.classList.add("load")}));const e=()=>0===a?0:(a+(o-t[a])/(t[a+1]-t[a]))/(t.length-1)*100;document.getElementById("co2_progress_bar").style.width=`calc(${e()}% + 10px)`}e.addEventListener("submit",(async e=>{e.preventDefault();const t={email:document.getElementById("email").value,amount:1,signup:!0,referral_code:""},o=await fetch("https://api-co2.cubbit.io/save",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(!(await o.json()).success)return alert("Something went wrong!"),!1;alert("Successfully saved!")}))};